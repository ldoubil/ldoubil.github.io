import{c as createComponent,a as createAstro,m as maybeRenderHead,f as addAttribute,r as renderTemplate}from"./chunk.CO0x50cG.js";import{U as UNCATEGORIZED,g as getPostUrlBySlug}from"./chunk.CKpOrP9p.js";import{g as getSortedPosts,i as i18n,I as I18nKey}from"./chunk.lGIs6T0I.js";const $$Astro=createAstro("https://acg-n.cn/"),$$ArchivePanel=createComponent((async(t,e,r)=>{const a=t.createAstro($$Astro,e,r);a.self=$$ArchivePanel;const{keyword:i,tags:s,categories:o}=a.props;let l=await getSortedPosts();Array.isArray(s)&&s.length>0&&(l=l.filter((t=>Array.isArray(t.data.tags)&&t.data.tags.some((t=>s.includes(t)))))),Array.isArray(o)&&o.length>0&&(l=l.filter((t=>t.data.category&&o.includes(t.data.category)||!t.data.category&&o.includes(UNCATEGORIZED))));const n=(()=>{const t=l.reduce(((t,e)=>{const r=e.data.published.getFullYear();return t[r]||(t[r]=[]),t[r].push(e),t}),{}),e=Object.keys(t).map((e=>({year:Number.parseInt(e),posts:t[Number.parseInt(e)]})));return e.sort(((t,e)=>e.year-t.year)),e})();return renderTemplate`${maybeRenderHead()}<div class="card-base px-8 py-6"> ${n.map((t=>renderTemplate`<div> <div class="flex flex-row w-full items-center h-[3.75rem]"> <div class="w-[15%] md:w-[10%] transition text-2xl font-bold text-right text-75">${t.year}</div> <div class="w-[15%] md:w-[10%]"> <div class="h-3 w-3 bg-none rounded-full outline outline-[var(--primary)] mx-auto -outline-offset-[2px] z-50 outline-3"></div> </div> <div class="w-[70%] md:w-[80%] transition text-left text-50">${t.posts.length} ${i18n(I18nKey.postsCount)}</div> </div> ${t.posts.map((t=>{return renderTemplate`<a${addAttribute(getPostUrlBySlug(t.slug),"href")}${addAttribute(t.data.title,"aria-label")} class="group btn-plain !block h-10 w-full rounded-lg hover:text-[initial]"> <div class="flex flex-row justify-start items-center h-full"> <!-- date --> <div class="w-[15%] md:w-[10%] transition text-sm text-right text-50"> ${r=t.data.published,`${(r.getMonth()+1).toString().padStart(2,"0")}-${r.getDate().toString().padStart(2,"0")}`} </div> <!-- dot and line --> <div class="w-[15%] md:w-[10%] relative dash-line h-full flex items-center"> <div class="transition-all mx-auto w-1 h-1 rounded group-hover:h-5
                                bg-[oklch(0.5_0.05_var(--hue))] group-hover:bg-[var(--primary)]
                                outline outline-4 z-50
                                outline-[var(--card-bg)]
                                group-hover:outline-[var(--btn-plain-bg-hover)]
                                group-active:outline-[var(--btn-plain-bg-active)]
                                "></div> </div> <!-- post title --> <div class="w-[70%] md:max-w-[65%] md:w-[65%] text-left font-bold
                                group-hover:translate-x-1 transition-all group-hover:text-[var(--primary)]
                                text-75 pr-8 whitespace-nowrap overflow-ellipsis overflow-hidden"> ${t.data.title} </div> <!-- tag list --> <div class="hidden md:block md:w-[15%] text-left text-sm transition
                            whitespace-nowrap overflow-ellipsis overflow-hidden
                            text-30">${e=t.data.tags,e.map((t=>`#${t}`)).join(" ")}</div> </div> </a>`;var e,r}))} </div>`))} </div>`}),"/home/runner/work/ldoubil.github.io/ldoubil.github.io/src/components/ArchivePanel.astro",void 0),$$file="/home/runner/work/ldoubil.github.io/ldoubil.github.io/src/components/ArchivePanel.astro",$$url=void 0;export{$$ArchivePanel as default,$$file as file,$$url as url};